function onScreen(element){$(element).each(function(){var windowHeight=window.innerHeight,windowScrollTop=window.scrollY||document.documentElement.scrollTop,windowScrollBottom=windowScrollTop+windowHeight,$this=$(this),thisClasses=$this.attr("class"),thisClassArray=thisClasses.split(" "),thisHeight=$this.outerHeight(),thisOffset=$this.offset(),offsetTop=thisOffset.top,offsetBot=offsetTop+thisHeight,$mask=$(".mask",this),reverse=!1,delay=500,duration=500,percent=0,move=25;if(thisClasses.indexOf("--out")>-1&&(reverse=!0),thisClasses.indexOf("on-screen_delay")>-1)for(var de=0;de<thisClassArray.length;de++)thisClassArray[de].indexOf("on-screen_delay")>-1&&(delay=parseInt(thisClassArray[de].split("--").pop().trim()));if(thisClasses.indexOf("on-screen_duration")>-1)for(var du=0;du<thisClassArray.length;du++)thisClassArray[du].indexOf("on-screen_duration")>-1&&(duration=parseInt(thisClassArray[du].split("--").pop().trim()));if(thisClasses.indexOf("on-screen_mask")>-1&&!$this.hasClass("mask-added")&&$this.prepend('<div class="mask"></div>').addClass("mask-added"),thisClasses.indexOf("on-screen_move")>-1)for(var m=0;m<thisClassArray.length;m++)thisClassArray[m].indexOf("on-screen_move")>-1&&(move=parseInt(thisClassArray[m].split("--").pop().trim())),isNaN(move)||((thisClasses.indexOf("move--in__up")>-1||thisClasses.indexOf("move--out__up")>-1)&&$this.css("transform","translate(0,"+move+"%)"),(thisClasses.indexOf("move--in__down")>-1||thisClasses.indexOf("move--out__down")>-1)&&$this.css("transform","translate(0,-"+move+"%)"),(thisClasses.indexOf("move--in__left")>-1||thisClasses.indexOf("move--out__left")>-1)&&$this.css("transform","translate("+move+"%,0)"),(thisClasses.indexOf("move--in__right")>-1||thisClasses.indexOf("move--out__right")>-1)&&$this.css("transform","translate(-"+move+"%,0)"));if(thisClasses.indexOf("on-screen_percent")>-1)for(var p=0;p<thisClassArray.length;p++)thisClassArray[p].indexOf("on-screen_percent")>-1&&(percent=parseInt(thisClassArray[p].split("--").pop().trim())/100);!0===reverse&&($this.hasClass("reverse")||$this.addClass("on"),$this.addClass("reverse")),setTimeout(function(){$this.css("transition","all "+duration+"ms"),$mask.css("transition","all "+duration+"ms"),!0===reverse?windowScrollBottom>offsetTop+thisHeight*percent&&windowScrollTop<offsetBot-thisHeight*percent?$this.removeClass("on"):$this.hasClass("unanimate")&&$this.addClass("on"):windowScrollBottom>offsetTop+thisHeight*percent&&windowScrollTop<offsetBot-thisHeight*percent?$this.addClass("on"):$this.hasClass("unanimate")&&$this.removeClass("on")},delay)})}$(document).ready(function(){onScreen(".on-screen")}),$(window).resize(function(){onScreen(".on-screen")}),window.addEventListener("scroll",function(){onScreen(".on-screen")});